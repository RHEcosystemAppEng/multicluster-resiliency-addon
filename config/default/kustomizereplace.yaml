# Create the appropriate name labels for the deployment
- source:
    fieldPath: metadata.name
    kind: Deployment
  targets:
    - fieldPaths:
        - metadata.labels.[app.kubernetes.io/name]
        - spec.selector.matchLabels.[app.kubernetes.io/name]
        - spec.template.metadata.labels.[app.kubernetes.io/name]
      select:
        kind: Deployment
      options:
        create: true

# Create the appropriate name label for teh cluster management addon
- source:
    fieldPath: metadata.name
    kind: ClusterManagementAddOn
  targets:
    - fieldPaths:
        - metadata.labels.[app.kubernetes.io/name]
      select:
        kind: ClusterManagementAddOn
      options:
        create: true
